{{ define "blocks/video.html" }}
<div id="block-{{ .ID }}" class="card glass mb-3">
  <div class="card-body">
    <h5 class="card-title">
      {{ if .Title }}{{ .Title }}{{ else }}Видео{{ end }}
    </h5>

    {{ if .URL }}
      <div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:0.75rem;">
        <iframe
          src="{{ .URL }}"
          style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen>
        </iframe>
      </div>

    {{ else if .Src }}
      <video class="w-100" controls style="border-radius:0.75rem;">
        <source src="{{ .Src }}" type="video/mp4">
        Ваш браузер не поддерживает тег <code>video</code>.
      </video>

    {{ else }}
      <p class="text-secondary small mb-0">Видео не задано.</p>
    {{ end }}

    {{ if .Caption }}
      <p class="text-secondary small mt-2">{{ .Caption }}</p>
    {{ end }}
  </div>
</div>
{{ end }}
