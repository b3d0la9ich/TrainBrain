{{ define "blocks/assignment.html" }}
<div id="block-{{ .ID }}" class="card glass mb-3">
  <div class="card-body">
    <h5 class="card-title">
      {{ if .Title }}{{ .Title }}{{ else }}–ó–∞–¥–∞–Ω–∏–µ{{ end }}
    </h5>

    {{/* ----- –£–°–õ–û–í–ò–ï –ó–ê–î–ê–ù–ò–Ø ----- */}}
    {{ if .PromptHTML }}
      <div class="card-text mb-3">
        {{ .PromptHTML }}
      </div>
    {{ end }}

    {{/* ----- –ï–°–õ–ò –ù–£–ñ–ï–ù –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–ô –¢–ï–°–¢ –ò –û–ù –ù–ï –ü–†–û–ô–î–ï–ù ----- */}}
    {{ if .RequireQuiz }}
      <div class="alert alert-warning d-flex justify-content-between align-items-center">
        <div>
          –ß—Ç–æ–±—ã –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –∑–∞–¥–∞–Ω–∏—é, —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç –ø–æ –º–æ–¥—É–ª—é
          (–ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª: {{ .RequireQuizPassScore }}%).
        </div>

        <a class="btn btn-sm btn-primary"
           href="/courses/{{ .CourseID }}#block-{{ .RequireQuizBlockID }}">
          –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç–µ—Å—Ç—É
        </a>
      </div>

      <div class="text-secondary small">
        –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞.
      </div>

    {{ else }}

      {{/* ----- –§–û–†–ú–ê –û–¢–ü–†–ê–í–ö–ò –ó–ê–î–ê–ù–ò–Ø ----- */}}
      {{ if .CanSubmit }}
        <form method="post"
              enctype="multipart/form-data"
              action="/blocks/{{ .ID }}/submit"
              class="row g-2 mt-2">

          <div class="col-md-8">
            <input class="form-control"
                   type="file"
                   name="solution"
                   required>
          </div>

          <div class="col-md-4">
            <button class="btn btn-gradient w-100">
              –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ
            </button>
          </div>
        </form>

        {{/* ----- –ú–û–ò –û–¢–ü–†–ê–í–ö–ò ----- */}}
        <div class="mt-3">
          <div class="fw-semibold mb-1">–ú–æ–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏:</div>

          {{ if .MySubmissions }}
            <ul class="list-group">
              {{ range $i, $s := .MySubmissions }}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>
                    <i class="bi bi-file-earmark-text me-1"></i>
                    <a href="{{ $s.URL }}" target="_blank">{{ $s.Name }}</a>

                    <span class="text-secondary small ms-2">
                      ({{ $s.SizeKB }} –ö–ë ¬∑ {{ $s.CreatedAt }})
                    </span>

                    {{ if $s.Comment }}
                      <span class="text-secondary small ms-2">
                        üí¨ {{ $s.Comment }}
                      </span>
                    {{ end }}
                  </span>

                  <span class="badge bg-secondary">{{ $s.Status }}</span>
                </li>
              {{ end }}
            </ul>
          {{ else }}
            <div class="text-secondary small">–û—Ç–ø—Ä–∞–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç.</div>
          {{ end }}
        </div>

      {{ else if .ShowLoginNotice }}
        <div class="alert alert-info mt-2">
          –ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ, –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç.
        </div>
      {{ end }}

    {{ end }}
  </div>
</div>
{{ end }}
